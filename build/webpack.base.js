/*     Digital Pink Card - All rights reserved
*     Copyright (C) 2018
*     Written by:  
*     Cai, Jann Willem
*     Daroya, Carlos Adrian 
*     Ocampo, Pauline                   
*
*     This program is free software: you can redistribute it and/or modify
*     it under the terms of the GNU General Public License as published by
*     the Free Software Foundation, either version 3 of the License, or
*     (at your option) any later version.
*
*     This program is distributed in the hope that it will be useful,
*     but WITHOUT ANY WARRANTY; without even the implied warranty of
*     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
*     GNU General Public License for more details.
*
*     You should have received a copy of the GNU General Public License
*     along with this program.  If not, see <https://www.gnu.org/licenses/>.
*     This is a course requirement for CS 192
*     Software Engineering II under the
*     supervision of Asst. Prof. Ma. Rowena C.
*     Solamo of the Department of Computer
*     Science, College of Engineering, University
*     of the Philippines, Diliman for the AY 2017-2018


*     Code history:
*     01/02/2018: 	Generated through webpack module	Daroya, Carlos Adrian A.
*
*
*
*
*     Date created: 1 February 2018
*     Development Group: Cai, Daroya, Ocampo
*    

*     File purpose:
*     This file was auto-generated by the webpack 
*     module for the purpose of reducing production
*     size of the software.
*/


'use strict'
const path = require('path')
const webpack = require('webpack')
const HtmlWebpackPlugin = require('html-webpack-plugin')
const CopyWebpackPlugin = require('copy-webpack-plugin')
const config = require('./config')
const _ = require('./utils')

module.exports = {
     entry: {
          client: './client/index.js'
     },
     output: {
          path: _.outputPath,
          filename: '[name].js',
          publicPath: config.publicPath,
          // Point sourcemap entries to original disk location
          devtoolModuleFilenameTemplate: info => path.resolve(info.absoluteResourcePath),
          // Add /* filename */ comments to generated require()s in the output.
          pathinfo: true
     },
     performance: {
          hints: process.env.NODE_ENV === 'production' ? 'warning' : false
     },
     resolve: {
          extensions: ['.js', '.vue', '.css', '.json'],
          alias: {
               root: path.join(__dirname, '../client'),
               components: path.join(__dirname, '../client/components')
          },
          modules: [
               _.cwd('node_modules'),
               // this meanse you can get rid of dot hell
               // for example import 'components/Foo' instead of import '../../components/Foo'
               _.cwd('client')
          ]
     },
     module: {
          loaders: [
               {
                    test: /\.vue$/,
                    loaders: ['vue-loader']
               },
               {
                    test: /\.js$/,
                    loaders: ['babel-loader'],
                    exclude: [/node_modules/]
               },
               {
                    test: /\.es6$/,
                    loaders: ['babel-loader']
               },
               {
                    test: /\.(ico|jpg|png|gif|eot|otf|webp|ttf|woff|woff2)(\?.*)?$/,
                    loader: 'file-loader',
                    query: {
                         name: 'static/media/[name].[hash:8].[ext]'
                    }
               },
               {
                    test: /\.svg$/,
                    loader: 'raw-loader'
               }
          ]
     },
     plugins: [
          new HtmlWebpackPlugin({
               title: config.title,
               template: path.resolve(__dirname, 'index.html'),
               filename: _.outputIndexPath
          }),
          new webpack.LoaderOptionsPlugin(_.loadersOptions()),
          new CopyWebpackPlugin([
               {
                    from: _.cwd('./static'),
                    // to the root of dist path
                    to: './'
               }
          ])
     ],
     target: _.target
}
